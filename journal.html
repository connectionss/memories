<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Glass Journal</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Inter', sans-serif; }
        
        .secret-content {
            position: absolute;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 1;
        }

        .secret-content h1 { font-size: 10px; letter-spacing: 12px; color: #333; text-transform: uppercase; margin-bottom: 20px; }
        .secret-content p { max-width: 500px; line-height: 2; color: #888; font-size: 18px; padding: 0 30px; }

        .nav-link {
            position: fixed;
            top: 40px;
            left: 40px;
            color: #555;
            text-decoration: none;
            font-size: 9px;
            letter-spacing: 4px;
            text-transform: uppercase;
            z-index: 100;
            transition: 0.3s;
        }
        .nav-link:hover { color: #fff; }

        #glass-canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 10;
            cursor: pointer;
            touch-action: none;
        }

        #hint {
            position: fixed;
            bottom: 40px;
            width: 100%;
            text-align: center;
            color: rgba(255,255,255,0.2);
            font-size: 8px;
            letter-spacing: 6px;
            text-transform: uppercase;
            z-index: 20;
            pointer-events: none;
        }
    </style>
</head>
<body>

    <a href="surprises.html" class="nav-link">‚Üê Terminal Hub</a>

    <div id="hint">Swipe to clear</div>

    <div class="secret-content">
        <h1>Private Archive</h1>
        <p>
            Bro, truth is like this glass.<br><br>
            It gets clouded by the daily noise,<br>
            but the real ones always know how to clear it.
        </p>
    </div>

    <canvas id="glass-canvas"></canvas>

    <script>
        const canvas = document.getElementById('glass-canvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

        function init() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            // The "Scratch" layer - solid matte color
            ctx.fillStyle = '#111'; 
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add a bit of texture so it's not a flat block
            ctx.globalAlpha = 0.1;
            for(let i=0; i<canvas.width; i+=4) {
                for(let j=0; j<canvas.height; j+=4) {
                    if(Math.random() > 0.5) {
                        ctx.fillStyle = "#fff";
                        ctx.fillRect(i, j, 1, 1);
                    }
                }
            }
            ctx.globalAlpha = 1.0;
        }

        function scratch(e) {
            if (!isDrawing) return;
            
            const x = e.clientX || (e.touches && e.touches[0].clientX);
            const y = e.clientY || (e.touches && e.touches[0].clientY);
            
            ctx.globalCompositeOperation = 'destination-out';
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            
            // Matches the thickness of a real thumb/finger
            ctx.lineWidth = 55; 

            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(x, y);
            ctx.stroke();

            // Add a secondary "softening" stroke to the edges to make it look like rubbed glass
            ctx.lineWidth = 70;
            ctx.globalAlpha = 0.2;
            ctx.stroke();
            ctx.globalAlpha = 1.0;

            [lastX, lastY] = [x, y];
        }

        window.addEventListener('mousedown', (e) => {
            isDrawing = true;
            [lastX, lastY] = [e.clientX, e.clientY];
        });

        window.addEventListener('mouseup', () => isDrawing = false);
        window.addEventListener('mousemove', scratch);
        
        window.addEventListener('touchstart', (e) => {
            isDrawing = true;
            const touch = e.touches[0];
            [lastX, lastY] = [touch.clientX, touch.clientY];
        });

        window.addEventListener('touchend', () => isDrawing = false);
        window.addEventListener('touchmove', (e) => {
            e.preventDefault();
            scratch(e);
        }, {passive: false});

        window.addEventListener('resize', init);
        
        init();
    </script>
</body>
</html>