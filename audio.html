<!DOCTYPE html>
<html>
<head>
    <title>Soundscape</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
    <style>
        body { background: #080808; color: #fff; font-family: 'Poppins', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; }
        
        .back-link { position: fixed; top: 30px; left: 30px; color: #444; text-decoration: none; font-size: 10px; letter-spacing: 3px; transition: 0.3s; z-index: 100; }
        .back-link:hover { color: #fff; }

        /* The Deck */
        .tape-drive { width: 280px; height: 160px; background: #111; border: 1px solid #222; border-radius: 20px; position: relative; display: flex; justify-content: space-around; align-items: center; box-shadow: 0 30px 60px rgba(0,0,0,0.5); z-index: 2; }
        
        .reel { width: 70px; height: 70px; border: 4px dashed #333; border-radius: 50%; animation: spin 5s linear infinite paused; }
        
        /* Animation Triggers */
        body.playing .reel { animation-play-state: running; border-color: #555; }
        
        @keyframes spin { 100% { transform: rotate(360deg); } }

        .controls { margin-top: 40px; z-index: 2; }
        
        button { background: #000; border: 1px solid #333; color: #888; padding: 12px 35px; border-radius: 50px; cursor: pointer; letter-spacing: 3px; font-size: 9px; transition: 0.3s; outline: none; }
        button:hover { border-color: #fff; color: #fff; }

        /* The Image Fade */
        #memory-fade { 
            margin-top: 50px; 
            width: 250px; 
            height: 250px; 
            border-radius: 20px; 
            opacity: 0; /* Hidden by default */
            transition: 3s ease-in-out; 
            object-fit: cover; 
            filter: sepia(1) brightness(0.5); 
            z-index: 1;
        }

        /* Fade in when body has .playing class */
        body.playing #memory-fade { 
            opacity: 0.4; 
        }
    </style>
</head>
<body id="mainBody">

    <a href="surprises.html" class="back-link">‚Üê RETURN TO HUB</a>

    <div class="tape-drive" id="deck">
        <div class="reel"></div>
        <div class="reel"></div>
    </div>

    <img src="https://i.ibb.co/5gKkwHjH/adi.jpg" id="memory-fade">

    <div class="controls">
        <button onclick="togglePlay()" id="playBtn">BOOT ARCHIVE</button>
    </div>

    <audio id="track" src="https://files.catbox.moe/n38odw.mp3"></audio>

    <script>
        const track = document.getElementById('track');
        const btn = document.getElementById('playBtn');
        const body = document.getElementById('mainBody');

        function togglePlay() {
            if (track.paused) {
                track.play().catch(e => {
                    alert("Audio link is missing or broken. Please add a valid .mp3 link!");
                });
                body.classList.add('playing');
                btn.innerText = "PAUSE TRANSMISSION";
            } else {
                track.pause();
                body.classList.remove('playing');
                btn.innerText = "RESUME ARCHIVE";
            }
        }

        // Auto-reset when song ends
        track.onended = function() {
            body.classList.remove('playing');
            btn.innerText = "BOOT ARCHIVE";
        };
    </script>
</body>
</html>